# 브라우저가 작동하는 원리

# ❓ 브라우저란

**브라우저 (Browser)** :

동기적으로 HTML, CSS, JavaScript 언어를 해석하여 내용을 화면에 보여주는 응용 소프트웨어

## 🌍 웹 브라우저의 종류

- 크롬 (Chrome)
- 네이버 웨일 (Naver Whale)
- 파이어 폭스 (Firefox)
- 사파리 (Safari)

## 📝 웹 브라우저의 구조

1. 사용자 인터페이스
    
    사용자가 접근할 수 있는 영역.
    
    - URI 를 입력할 수 있는 주소 표시줄
    - 이전/다음 버튼
    - 북마크 메뉴
    - 새로고침 버튼
    - 현재 문서의 로드를 중단할 수 있는 정지 버튼
    - 홈 버튼
    - …
    - 요청한 페이지를 보여주는 창을 제외한 나머지 모든 부분
2. 브라우저 엔진
    - 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어
    - Data Storage를 참조하여 로컬에 데이터를 쓰고 읽으며 다양한 작업을 수행
3. ***렌더링 엔진**
    
    ⬇ 아래에서 설명!
    
4. 통신
    
    HTTP 요청과 같은, 서버와 통신이 가능하게 하는 네트워크 호출에 사용
    
5. UI 백엔드
    
    Select, Input 등 기본적인 위젯을 그리는 인터페이스
    
6. 자바스크립트 해석기
    
    자바스크립트 코드를 해석하고 실행
    
7. 자료 저장소
    
    Cookie, Local Storage, Indexed DB 등 브라우저 메모리를 활용하여 저장하는 영역
    

# ⚙ 렌더링 엔진

**렌더링 엔진** :

HTML, XML, 이미지 등 요청받은 내용을 브라우저 화면에 표시하는 엔진

→ 각 브라우저마다 페이지가 다르게 보이는 이유는 렌더링 엔진이 다르기 때문!

렌더링 엔진의 종류 :

- Blink - 크롬, 오페라
- Webkit - 사파리
- Trident - 익스플로어
- EdgeHTML - 마이크로소프트 엣지

사용자에게 최대한 빠르게 내용을 표시해주기 위해 **렌더링 엔진**은 일련의 과정들이 동기적으로 진행되지 않는다.

→ HTML을 파싱할 때까지 기다리지 않고 렌더 트리 (Render Tree) 배치와 그리기 과정을 시작한다.

*렌더 트리 (Render Tree) : 

웹 페이지에 표시될 HTML요소들과 이와 관련된 스타일 요소들로 구성

**DOM (Document Object Model)** : HTML 요소들의 구조화된 표현

**CSSOM (Cascading Style Sheets Object Model)** : 요소들과 연관된 스타일 정보의 구조화된 표현

# 🖥 렌더링 엔진 동작 과정

1. DOM 트리 구축을 위한 HTML 파싱 & CSS 요소 파싱
    - 렌더링 엔진이 HTML 문서를 파싱하여 DOM 트리를 구축
    - 외부 CSS 파일과 함께 포함도 스타일 요소를 파싱하여 CSSOM 트리를 구축
2. 렌더 트리 구축
    - DOM 트리와 CSSOM 트리의 결과물을 합쳐 렌더 트리를 구축
3. 렌더 트리 배치
    - 렌더 트리 각 노드에 대해 화면 상에서 배치할 곳을 결정
4. 렌더 트리 그리기
    - UI 백엔드에서 렌더 트리의 각 노드를 화면에 표시